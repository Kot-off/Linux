# **Linux**

## Место на дисках

#### Посмотреть место на дисках

```
df -h
```

#### Показывает сколько занимают файлы в определенных директориях

```
du -hd1
du - sh /tmp
```

#### Inode - структуры которые хранят некую служебную информацию о файлах в Linux.

```
df -i
```

#### Общее состояние жестких дисков

```
lsblk
```

#### Посмотреть состояние жесткого диска

```
smartctl -a /dev/sda1
```

---

## Процессор и память

#### Команды iostat и iotop

```
iostat
iotop
```

#### Команда htop

```
htop
```

- Режимы работы процессора
  - us - % времени процессора который был затрачен на выполнение процессов в пользовательском режиме (обычный режим).
  - sy - время на выполнение операций системы и ядра.
  - ni - % времени на выполнение операций с измененным приоритетом.
  - id - это сколько времени процессор простаивает.
  - wa - % времени когда система ожидает завершения операций ввода вывода (может быть нагрузка на сеть, проблема с дисками).
  - hi и si - аппаратные или программные прерывания.
  - st - время которые было украдено у виртуальной машины гипервизором. - когда занят выполнением других задач и не может предоставить ресурсы vm.
- Load Average (LA) — это показатель, который показывает среднюю нагрузку на сервер за определённый период времени. Чем его значение ниже, тем ниже нагрузка на сервер.
  - Если значения равны 0.0, то система в состоянии простоя.
  - Если среднее значение для 1 минуты выше, чем для 5 или 15, то нагрузка растёт.
  - Если среднее значение для 1 минуты ниже, чем для 5 или 15, то нагрузка снижается.
  - Если значения нагрузки выше, чем количество процессоров, то у вас могут быть проблемы с производительностью (в зависимости от ситуации).
- MiB Mem - общий объем памяти который есть в системе.

## Процессы

#### Показывает запущенные процессы.

```
ps aux
```

```
systemctl status nginx
```

## Сети.

#### Данная команда показывает процессы которые слушают какие либо сетевые порты на сервере.

```
netstat -tulpn
```

#### Покажет примерно тоже самое.

```
ss -lntu
```

#### Информация о сетевых интерфейсах.

```
ip -a
```

```
ifconfig
```

#### Информация о сетевых маршрутах.

```
netstat -rn
```

```
ip r
```

#### Диагностика сети.

```
ping google.ru
```

```
ping -a 8.8.8.8
```

#### Данная команда покажет путь пакетов.

```
traceroute 8.8.8.8
```
